{"id":1120,"name":"onBeforeUnload","kind":64,"kindString":"Function","flags":{},"children":[],"sources":[{"fileName":"web-utils/src/lifecycle.ts","fullFileName":"/home/runner/work/fe-tools/fe-tools/utils/packages/web-utils/src/lifecycle.ts","line":56,"character":16,"url":"https://github.com/MichealWayne/fe-tools/blob/c7fbca0/utils/packages/web-utils/src/lifecycle.ts#L56"}],"signatures":[{"id":1121,"name":"onBeforeUnload","kind":4096,"kindString":"Call signature","flags":{},"comment":{"summary":[],"blockTags":[{"tag":"@function","content":[{"kind":"text","text":"onBeforeUnload"}]},{"tag":"@description","content":[{"kind":"text","text":"注册页面关闭前挽留事件（beforeunload）"}]},{"tag":"@returns","content":[{"kind":"text","text":"移除监听的函数"}]},{"tag":"@example","content":[{"kind":"code","text":"```ts\nonBeforeUnload((event) => {\n // 可以弹窗挽留，阻止页面关闭\n const message = 'You have unsaved changes.\\r\\nAre you sure you want to leave this page?';\n event.returnValue = message;\n return message;\n});\n```"}]}]},"parameters":[{"id":1122,"name":"fn","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"页面关闭前执行的回调，可用于弹窗挽留"}]},"type":{"type":"reflection","declaration":{"id":1123,"name":"__type","kind":65536,"kindString":"Type literal","flags":{},"sources":[{"fileName":"web-utils/src/lifecycle.ts","line":56,"character":35,"url":"https://github.com/MichealWayne/fe-tools/blob/c7fbca0/utils/packages/web-utils/src/lifecycle.ts#L56"}],"signatures":[{"id":1124,"name":"__type","kind":4096,"kindString":"Call signature","flags":{},"parameters":[{"id":1125,"name":"event","kind":32768,"kindString":"Parameter","flags":{},"type":{"type":"reference","name":"BeforeUnloadEvent","qualifiedName":"BeforeUnloadEvent","package":"typescript"}}],"type":{"type":"intrinsic","name":"void"}}]}},"text":{"comment":"<p>页面关闭前执行的回调，可用于弹窗挽留</p>\n"}}],"type":{"type":"reflection","declaration":{"id":1126,"name":"onBeforeUnload","kind":65536,"kindString":"Type literal","flags":{},"sources":[{"fileName":"web-utils/src/lifecycle.ts","line":56,"character":72,"url":"https://github.com/MichealWayne/fe-tools/blob/c7fbca0/utils/packages/web-utils/src/lifecycle.ts#L56"}],"signatures":[{"id":1127,"name":"onBeforeUnload","kind":4096,"kindString":"Call signature","flags":{},"type":{"type":"intrinsic","name":"void"},"is":{"declaration":false},"location":{"query":"LifeCycle.Function.onBeforeUnload","hash":"onBeforeUnload.__type"},"text":{},"parentId":1120}],"location":{"query":"LifeCycle.Function.onBeforeUnload","hash":"onBeforeUnload"}}},"is":{"declaration":false},"location":{"query":"LifeCycle.Function.onBeforeUnload","hash":"onBeforeUnload"},"text":{"comment":"<h5>Function:</h5><p>onBeforeUnload</p>\n<h5>Description:</h5><p>注册页面关闭前挽留事件（beforeunload）</p>\n<h5>Returns:</h5><p>移除监听的函数</p>\n<h5>Example:</h5><pre><code class=\"language-ts\"><span class=\"pl-en\">onBeforeUnload</span>((<span class=\"pl-v\">event</span>) <span class=\"pl-k\">=></span> {\n <span class=\"pl-c\">// 可以弹窗挽留，阻止页面关闭</span>\n <span class=\"pl-k\">const</span> <span class=\"pl-c1\">message</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>You have unsaved changes.<span class=\"pl-cce\">\\r\\n</span>Are you sure you want to leave this page?<span class=\"pl-pds\">'</span></span>;\n <span class=\"pl-c1\">event</span>.<span class=\"pl-smi\">returnValue</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">message</span>;\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">message</span>;\n});\n</code></pre>\n"},"sources":[{"fileName":"web-utils/src/lifecycle.ts","fullFileName":"/home/runner/work/fe-tools/fe-tools/utils/packages/web-utils/src/lifecycle.ts","line":56,"character":0,"url":"https://github.com/MichealWayne/fe-tools/blob/c7fbca0/utils/packages/web-utils/src/lifecycle.ts#L56"}],"parentId":1120}],"is":{"declaration":true},"location":{"query":"LifeCycle.Function.onBeforeUnload","hash":""},"text":{},"parentId":1105}
