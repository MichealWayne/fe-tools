{"id":1719,"name":"createCanvasElem","kind":64,"kindString":"Function","flags":{},"children":[],"sources":[{"fileName":"packages/canvas-utils/src/utils/doms.ts","fullFileName":"/home/runner/work/fe-tools/fe-tools/utils/packages/canvas-utils/src/utils/doms.ts","line":90,"character":16,"url":"https://github.com/MichealWayne/fe-tools/blob/e75b369/utils/packages/canvas-utils/src/utils/doms.ts#L90"}],"signatures":[{"id":1720,"name":"createCanvasElem","kind":4096,"kindString":"Call signature","flags":{},"comment":{"summary":[],"blockTags":[{"tag":"@function","content":[{"kind":"text","text":"createCanvasElem"}]},{"tag":"@description","content":[{"kind":"text","text":"创建新的HTML画布元素并将其附加到指定的父元素。Creates a new HTML canvas element and appends it to the specified parent element. Automatically sizes the canvas based on the parent element's dimensions or provided options."}]},{"tag":"@returns","content":[{"kind":"text","text":"创建并配置的画布元素。The created and configured canvas element"}]},{"tag":"@example","content":[{"kind":"code","text":"```ts\n// Basic canvas creation\r\nconst container = document.getElementById('chart-container');\r\nconst canvas = createCanvasElem(container, {\r\n  id: 'myChart'\r\n});\r\n// Creates canvas with id=\"myChartCanvas\" sized to fit container\n```"}]},{"tag":"@example","content":[{"kind":"code","text":"```ts\n// Custom dimensions\r\nconst canvas = createCanvasElem(document.body, {\r\n  id: 'customChart',\r\n  width: 800,\r\n  height: 600\r\n});\r\n// Creates 800x600 canvas regardless of parent size\n```"}]},{"tag":"@example","content":[{"kind":"code","text":"```ts\n// Responsive chart setup\r\nfunction createResponsiveChart(containerId, chartId) {\r\n  const container = document.getElementById(containerId);\r\n\r\n  // Canvas will automatically size to container\r\n  const canvas = createCanvasElem(container, {\r\n    id: chartId\r\n  });\r\n\r\n  const ctx = canvas.getContext('2d');\r\n\r\n  // Set up responsive behavior\r\n  window.addEventListener('resize', () => {\r\n    const newWidth = container.clientWidth;\r\n    const newHeight = container.clientHeight;\r\n\r\n    canvas.width = newWidth;\r\n    canvas.height = newHeight;\r\n\r\n    // Redraw chart with new dimensions\r\n    redrawChart(ctx, newWidth, newHeight);\r\n  });\r\n\r\n  return { canvas, ctx };\r\n}\n```"}]},{"tag":"@example","content":[{"kind":"code","text":"```ts\n// Multiple charts in a dashboard\r\nconst chartConfigs = [\r\n  { containerId: 'chart1', id: 'sales', width: 400, height: 300 },\r\n  { containerId: 'chart2', id: 'users', width: 400, height: 300 },\r\n  { containerId: 'chart3', id: 'revenue' } // Auto-sized\r\n];\r\n\r\nconst charts = chartConfigs.map(config => {\r\n  const container = document.getElementById(config.containerId);\r\n  return createCanvasElem(container, {\r\n    id: config.id,\r\n    width: config.width,\r\n    height: config.height\r\n  });\r\n});\n```"}]},{"tag":"@since","content":[{"kind":"text","text":"1.0.0"}]},{"tag":"@see","content":[{"kind":"inline-tag","tag":"@link","text":"DEFAULT_CANVAS_SIZE"},{"kind":"text","text":" - Default canvas dimensions when parent sizing fails"}]}]},"parameters":[{"id":1721,"name":"elem","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"要附加画布的父DOM元素。The parent DOM element to append the canvas to"}]},"type":{"type":"reference","name":"HTMLElement","qualifiedName":"HTMLElement","package":"typescript"},"text":{"comment":"<p>要附加画布的父DOM元素。The parent DOM element to append the canvas to</p>\n"}},{"id":1722,"name":"options","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"画布的配置选项。Configuration options for the canvas"}]},"originalName":"__namedParameters","type":{"type":"reflection","declaration":{"id":1723,"name":"__type","kind":65536,"kindString":"Type literal","flags":{},"children":[{"id":1726,"name":"height","kind":1024,"kindString":"Property","flags":{"isOptional":true},"comment":{"summary":[{"kind":"text","text":"画布高度（像素）（默认为父元素高度或回退值）。Canvas height in pixels (defaults to parent element height or fallback)"}]},"sources":[{"fileName":"packages/canvas-utils/src/utils/doms.ts","line":99,"character":4,"url":"https://github.com/MichealWayne/fe-tools/blob/e75b369/utils/packages/canvas-utils/src/utils/doms.ts#L99"}],"type":{"type":"intrinsic","name":"number"}},{"id":1724,"name":"id","kind":1024,"kindString":"Property","flags":{},"comment":{"summary":[{"kind":"text","text":"画布的唯一标识符（将添加'Canvas'后缀）。Unique identifier for the canvas (will have 'Canvas' suffix added)"}]},"sources":[{"fileName":"packages/canvas-utils/src/utils/doms.ts","line":97,"character":4,"url":"https://github.com/MichealWayne/fe-tools/blob/e75b369/utils/packages/canvas-utils/src/utils/doms.ts#L97"}],"type":{"type":"intrinsic","name":"string"}},{"id":1725,"name":"width","kind":1024,"kindString":"Property","flags":{"isOptional":true},"comment":{"summary":[{"kind":"text","text":"画布宽度（像素）（默认为父元素宽度或回退值）。Canvas width in pixels (defaults to parent element width or fallback)"}]},"sources":[{"fileName":"packages/canvas-utils/src/utils/doms.ts","line":98,"character":4,"url":"https://github.com/MichealWayne/fe-tools/blob/e75b369/utils/packages/canvas-utils/src/utils/doms.ts#L98"}],"type":{"type":"intrinsic","name":"number"}}],"groups":[{"title":"Properties","children":[1726,1724,1725]}],"sources":[{"fileName":"packages/canvas-utils/src/utils/doms.ts","line":96,"character":5,"url":"https://github.com/MichealWayne/fe-tools/blob/e75b369/utils/packages/canvas-utils/src/utils/doms.ts#L96"}]}},"text":{"comment":"<p>画布的配置选项。Configuration options for the canvas</p>\n"}}],"type":{"type":"reference","name":"HTMLCanvasElement","qualifiedName":"HTMLCanvasElement","package":"typescript"},"is":{"declaration":false},"location":{"query":"canvas-utils/src.Function.createCanvasElem","hash":"createCanvasElem"},"text":{"comment":"<h5>Function:</h5><p>createCanvasElem</p>\n<h5>Description:</h5><p>创建新的HTML画布元素并将其附加到指定的父元素。Creates a new HTML canvas element and appends it to the specified parent element. Automatically sizes the canvas based on the parent element&#39;s dimensions or provided options.</p>\n<h5>Returns:</h5><p>创建并配置的画布元素。The created and configured canvas element</p>\n<h5>Example:</h5><pre><code class=\"language-ts\"><span class=\"pl-c\">// Basic canvas creation</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">container</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">document</span>.<span class=\"pl-c1\">getElementById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>chart-container<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">canvas</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">createCanvasElem</span>(<span class=\"pl-smi\">container</span>, {\n  id: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>myChart<span class=\"pl-pds\">'</span></span>\n});\n<span class=\"pl-c\">// Creates canvas with id=\"myChartCanvas\" sized to fit container</span>\n</code></pre>\n<h5>Example:</h5><pre><code class=\"language-ts\"><span class=\"pl-c\">// Custom dimensions</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">canvas</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">createCanvasElem</span>(<span class=\"pl-c1\">document</span>.<span class=\"pl-c1\">body</span>, {\n  id: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>customChart<span class=\"pl-pds\">'</span></span>,\n  width: <span class=\"pl-c1\">800</span>,\n  height: <span class=\"pl-c1\">600</span>\n});\n<span class=\"pl-c\">// Creates 800x600 canvas regardless of parent size</span>\n</code></pre>\n<h5>Example:</h5><pre><code class=\"language-ts\"><span class=\"pl-c\">// Responsive chart setup</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">createResponsiveChart</span>(<span class=\"pl-v\">containerId</span>, <span class=\"pl-v\">chartId</span>) {\n  <span class=\"pl-k\">const</span> <span class=\"pl-c1\">container</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">document</span>.<span class=\"pl-c1\">getElementById</span>(<span class=\"pl-smi\">containerId</span>);\n\n  <span class=\"pl-c\">// Canvas will automatically size to container</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-c1\">canvas</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">createCanvasElem</span>(<span class=\"pl-smi\">container</span>, {\n    id: <span class=\"pl-smi\">chartId</span>\n  });\n\n  <span class=\"pl-k\">const</span> <span class=\"pl-c1\">ctx</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">getContext</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>2d<span class=\"pl-pds\">'</span></span>);\n\n  <span class=\"pl-c\">// Set up responsive behavior</span>\n  <span class=\"pl-c1\">window</span>.<span class=\"pl-c1\">addEventListener</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>resize<span class=\"pl-pds\">'</span></span>, () <span class=\"pl-k\">=></span> {\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">newWidth</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">container</span>.<span class=\"pl-smi\">clientWidth</span>;\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">newHeight</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">container</span>.<span class=\"pl-smi\">clientHeight</span>;\n\n    <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">width</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">newWidth</span>;\n    <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">height</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">newHeight</span>;\n\n    <span class=\"pl-c\">// Redraw chart with new dimensions</span>\n    <span class=\"pl-en\">redrawChart</span>(<span class=\"pl-smi\">ctx</span>, <span class=\"pl-smi\">newWidth</span>, <span class=\"pl-smi\">newHeight</span>);\n  });\n\n  <span class=\"pl-k\">return</span> { <span class=\"pl-smi\">canvas</span>, <span class=\"pl-smi\">ctx</span> };\n}\n</code></pre>\n<h5>Example:</h5><pre><code class=\"language-ts\"><span class=\"pl-c\">// Multiple charts in a dashboard</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">chartConfigs</span> <span class=\"pl-k\">=</span> [\n  { containerId: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>chart1<span class=\"pl-pds\">'</span></span>, id: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sales<span class=\"pl-pds\">'</span></span>, width: <span class=\"pl-c1\">400</span>, height: <span class=\"pl-c1\">300</span> },\n  { containerId: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>chart2<span class=\"pl-pds\">'</span></span>, id: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>users<span class=\"pl-pds\">'</span></span>, width: <span class=\"pl-c1\">400</span>, height: <span class=\"pl-c1\">300</span> },\n  { containerId: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>chart3<span class=\"pl-pds\">'</span></span>, id: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>revenue<span class=\"pl-pds\">'</span></span> } <span class=\"pl-c\">// Auto-sized</span>\n];\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">charts</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">chartConfigs</span>.<span class=\"pl-en\">map</span>(<span class=\"pl-v\">config</span> <span class=\"pl-k\">=></span> {\n  <span class=\"pl-k\">const</span> <span class=\"pl-c1\">container</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">document</span>.<span class=\"pl-c1\">getElementById</span>(<span class=\"pl-smi\">config</span>.<span class=\"pl-smi\">containerId</span>);\n  <span class=\"pl-k\">return</span> <span class=\"pl-en\">createCanvasElem</span>(<span class=\"pl-smi\">container</span>, {\n    id: <span class=\"pl-smi\">config</span>.<span class=\"pl-c1\">id</span>,\n    width: <span class=\"pl-smi\">config</span>.<span class=\"pl-c1\">width</span>,\n    height: <span class=\"pl-smi\">config</span>.<span class=\"pl-c1\">height</span>\n  });\n});\n</code></pre>\n<h5>Since:</h5><p>1.0.0</p>\n<h5>See:</h5><p><a href=\"undefined\">DEFAULT_CANVAS_SIZE</a> - Default canvas dimensions when parent sizing fails</p>\n"},"sources":[{"fileName":"packages/canvas-utils/src/utils/doms.ts","fullFileName":"/home/runner/work/fe-tools/fe-tools/utils/packages/canvas-utils/src/utils/doms.ts","line":90,"character":0,"url":"https://github.com/MichealWayne/fe-tools/blob/e75b369/utils/packages/canvas-utils/src/utils/doms.ts#L90"}],"parentId":1719}],"is":{"declaration":true},"location":{"query":"canvas-utils/src.Function.createCanvasElem","hash":""},"text":{},"parentId":1168}
