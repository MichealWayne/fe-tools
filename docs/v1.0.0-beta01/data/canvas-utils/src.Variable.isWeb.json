{"id":1625,"name":"isWeb","kind":32,"kindString":"Variable","flags":{"isConst":true},"comment":{"summary":[],"blockTags":[{"tag":"@const","content":[{"kind":"text","text":"isWeb"}]},{"tag":"@description","content":[{"kind":"text","text":"检测代码是否在Web浏览器环境中运行（不包括微信小程序）。Detects if the code is running in a web browser environment (excluding WeChat mini-programs)."}]},{"tag":"@example","content":[{"kind":"code","text":"```ts\n// Web-specific DOM operations\nfunction setupCanvasEvents(canvas) {\n  if (isWeb) {\n    canvas.addEventListener('click', handleCanvasClick);\n    canvas.addEventListener('mousemove', handleMouseMove);\n\n    // Add touch events for mobile web\n    canvas.addEventListener('touchstart', handleTouchStart);\n    canvas.addEventListener('touchmove', handleTouchMove);\n  }\n}\n```"}]},{"tag":"@example","content":[{"kind":"code","text":"```ts\n// Responsive canvas sizing\nfunction updateCanvasSize(canvas) {\n  if (isWeb) {\n    const rect = canvas.getBoundingClientRect();\n    const dpr = window.devicePixelRatio || 1;\n\n    canvas.width = rect.width * dpr;\n    canvas.height = rect.height * dpr;\n\n    const ctx = canvas.getContext('2d');\n    ctx.scale(dpr, dpr);\n  }\n}\n```"}]},{"tag":"@since","content":[{"kind":"text","text":"1.0.0"}]}]},"children":[],"sources":[{"fileName":"packages/canvas-utils/src/utils/env.ts","fullFileName":"/home/runner/work/fe-tools/fe-tools/utils/packages/canvas-utils/src/utils/env.ts","line":123,"character":13,"url":"https://github.com/MichealWayne/fe-tools/blob/e75b369/utils/packages/canvas-utils/src/utils/env.ts#L123"}],"type":{"type":"intrinsic","name":"boolean"},"defaultValue":"...","is":{"declaration":true},"location":{"query":"canvas-utils/src.Variable.isWeb","hash":""},"text":{"comment":"<h5>Const:</h5><p>isWeb</p>\n<h5>Description:</h5><p>检测代码是否在Web浏览器环境中运行（不包括微信小程序）。Detects if the code is running in a web browser environment (excluding WeChat mini-programs).</p>\n<h5>Example:</h5><pre><code class=\"language-ts\"><span class=\"pl-c\">// Web-specific DOM operations</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">setupCanvasEvents</span>(<span class=\"pl-v\">canvas</span>) {\n  <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">isWeb</span>) {\n    <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">addEventListener</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>click<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">handleCanvasClick</span>);\n    <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">addEventListener</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>mousemove<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">handleMouseMove</span>);\n\n    <span class=\"pl-c\">// Add touch events for mobile web</span>\n    <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">addEventListener</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>touchstart<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">handleTouchStart</span>);\n    <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">addEventListener</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>touchmove<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">handleTouchMove</span>);\n  }\n}\n</code></pre>\n<h5>Example:</h5><pre><code class=\"language-ts\"><span class=\"pl-c\">// Responsive canvas sizing</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">updateCanvasSize</span>(<span class=\"pl-v\">canvas</span>) {\n  <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">isWeb</span>) {\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">rect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">getBoundingClientRect</span>();\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">dpr</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">window</span>.<span class=\"pl-smi\">devicePixelRatio</span> <span class=\"pl-k\">||</span> <span class=\"pl-c1\">1</span>;\n\n    <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">width</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rect</span>.<span class=\"pl-c1\">width</span> <span class=\"pl-k\">*</span> <span class=\"pl-smi\">dpr</span>;\n    <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">height</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rect</span>.<span class=\"pl-c1\">height</span> <span class=\"pl-k\">*</span> <span class=\"pl-smi\">dpr</span>;\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">ctx</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">canvas</span>.<span class=\"pl-c1\">getContext</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>2d<span class=\"pl-pds\">'</span></span>);\n    <span class=\"pl-smi\">ctx</span>.<span class=\"pl-en\">scale</span>(<span class=\"pl-smi\">dpr</span>, <span class=\"pl-smi\">dpr</span>);\n  }\n}\n</code></pre>\n<h5>Since:</h5><p>1.0.0</p>\n"},"parentId":1168}
