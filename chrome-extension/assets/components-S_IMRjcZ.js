var e=Object.defineProperty,t=(t,a,o)=>((t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o)(t,"symbol"!=typeof a?a+"":a,o);import{d as a,t as o,r as n,w as l,o as r,c as i,a as s,b as c,v as u,e as d,f as m,g as v,h as p,i as f,j as h,k as g,l as _,m as b,n as y,p as S,q as T,s as C,u as w,x as E,F as k,y as x,z as A,A as O}from"./vendor-C-2dgoX6.js";import{c as N,g as M,d as D,a as R}from"./utils-Ls92JS25.js";function L(e,t){const a=new RegExp(`(^|&)${e}=([^&]*)(&|$)`),o=window.location.search.substring(1).match(a);return o?decodeURI(o[2]):null}function I(e,t="canvas"){const{AraleQRCode:a}=window;return void 0===a?(alert("工具库加载失败，请重试"),null):{getImgUrl:()=>new a({text:e,render:t}).toDataURL("image/png"),downloadQR(t="svg"){const o=new a({text:e,render:"svg"===t?t:"canvas"}),n=document.createElement("div");n.appendChild(o);const l="svg"===t?"application/svg":`image/${t}`;alert(l);const r=new Blob([n.innerHTML],{type:`application/${l}`}),i=window.URL.createObjectURL(r),s=document.createElement("a");s.download=`qr-code.${t}`,s.style.display="none",s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}}function U(e,t){if(!e)throw new Error('Error! no param "file"(getFileBase64()).');const a=new FileReader;a.onload=function(e){const a=e.target.result;t&&t(a)},a.onerror=function(){alert("Read file fail.")},a.readAsDataURL(e)}function z(e,t=.9){const a=document.createElement("canvas"),o=a.getContext("2d"),n=document.createElement("canvas"),l=n.getContext("2d");let r,i,{width:s,height:c}=e;if((s>750||c>1e3)&&(r=s*c/5e5)>1?(r=Math.sqrt(r),s/=r,c/=r):r=1,a.width=s,a.height=c,o.fillStyle="#fff",o.fillRect(0,0,s,c),(i=s*c/6e5)>1){i=Math.floor(Math.sqrt(i)+1);const t=Math.floor(s/i),a=Math.floor(c/i);n.width=t,n.height=a;for(let s=0;s<i;s++)for(let c=0;c<i;c++)l.drawImage(e,s*t*r,c*a*r,t*r,a*r,0,0,t,a),o.drawImage(n,s*t,c*a)}else o.drawImage(e,0,0,s,c);const u=a.toDataURL("image/jpeg",t);return n.width=n.height=a.width=a.height=0,u}const $={zh:{title:"FE工具箱",language:"语言",searchPlaceholder:"请输入关键词或二维码生成地址",tools:{colorPass:"颜色转换",dateConverter:"日期转换",imageCompressor:"图片压缩",jsonCtn:"JSON工具",langTranslator:"语言翻译",postMan:"API测试",qrCode:"二维码",svgEditor:"SVG编辑器",unitCalculator:"单位换算",regexCtn:"正则工具",utilsCtn:"实用工具",mooCtn:"Moo工具"},descriptions:{colorPass:"颜色格式转换工具",dateConverter:"时间戳与日期转换",imageCompressor:"在线图片压缩",jsonCtn:"JSON格式化与验证",langTranslator:"多语言翻译工具",postMan:"HTTP接口测试",qrCode:"二维码生成与解析",svgEditor:"SVG在线编辑器",unitCalculator:"长度重量单位换算",regexCtn:"正则表达式测试",utilsCtn:"常用开发工具集",mooCtn:"特色功能工具"},qrcode:{title:"二维码生成器",inputPlaceholder:"请输入地址",generate:"更新",download:"下载二维码",downloadSvg:"下载SVG文件",clear:"清空",rightClickTip:"右键可保存二维码图片",saveImageTip:"*右键选中图片可保存二维码PNG图片"},imageCompressor:{dragTip:"点击图标或拖拽图片至此处",formatTip:"(*.jpg/*.png/*.gif格式)",resetTip:"点击重置图片",compressRatio:"图片压缩比例(0~1, 默认1)",backHome:"返回主页"},jsonCtn:{title:"JSON 转换工具",description:"为方便将js对象（object）转为可供KAmis编辑器处理的JSON对象。典型场景为ECharts官方配置转换",jsObject:"JavaScript 对象",jsonResult:"JSON 结果",backHome:"返回主页"},svgEditor:{title:"SVG 编辑器/优化器",description:"帮助开发者调整 SVG 属性、减小文件大小，并生成优化后的代码",svgInput:"SVG 输入",placeholder:"在此粘贴或输入SVG代码...",clearInput:"清空",loadExample:"加载示例",uploadSvg:"上传 SVG",optimize:"优化",copy:"复制",download:"下载",preview:"预览",originalSize:"原始大小",optimizedSize:"优化后大小",compressionRatio:"压缩比",backHome:"返回主页"},dateConverter:{title:"时间日期转换工具",description:"在Unix时间戳、ISO格式、本地时间等格式之间转换，支持时区转换和日期计算",inputTime:"输入时间",useCurrentTime:"使用当前时间"},unitCalculator:{title:"rem/vw/px换算",pxPlaceholder:"px单位",vwPlaceholder:"vw单位,1rem=10vw",remPlaceholder:"rem单位",remRatio:"rem比例",remRatioPlaceholder:"rem转换比例,默认1rem=75px",keepDigits:"保留位数",keepDigitsPlaceholder:"保留小数位数,默认2位"},postman:{title:"API 测试工具",urlPlaceholder:"请输入API地址",saveRequest:"保存请求",loadRequest:"加载请求"},regex:{filter:"筛选",test:"测试",inputTest:"请输入测试字符串",result:"结果"},mooCss:{searchPlaceholder:"请输入模块或样式属性"},utils:{searchPlaceholder:"请输入方法名或模块名"},colorPass:{title:"颜色转换工具",hexPlaceholder:"HEX颜色值",rgbPlaceholder:"RGB颜色值",hslPlaceholder:"HSL颜色值",backHome:"返回主页"},common:{confirm:"确认",cancel:"取消",save:"保存",reset:"重置",copy:"复制",paste:"粘贴",clear:"清空",upload:"上传",download:"下载",preview:"预览",edit:"编辑",delete:"删除",search:"搜索",filter:"筛选",sort:"排序",refresh:"刷新",loading:"加载中...",success:"成功",error:"错误",warning:"警告",info:"信息",backHome:"返回主页"}},en:{title:"FE Toolbox",language:"Language",searchPlaceholder:"Enter keywords or QR code generation address",tools:{colorPass:"Color Converter",dateConverter:"Date Converter",imageCompressor:"Image Compressor",jsonCtn:"JSON Tools",langTranslator:"Language Translator",postMan:"API Tester",qrCode:"QR Code",svgEditor:"SVG Editor",unitCalculator:"Unit Calculator",regexCtn:"Regex Tools",utilsCtn:"Utility Tools",mooCtn:"Moo Tools"},descriptions:{colorPass:"Color format conversion tool",dateConverter:"Timestamp and date conversion",imageCompressor:"Online image compression",jsonCtn:"JSON formatting and validation",langTranslator:"Multi-language translation tool",postMan:"HTTP API testing",qrCode:"QR code generation and parsing",svgEditor:"Online SVG editor",unitCalculator:"Length and weight unit conversion",regexCtn:"Regular expression testing",utilsCtn:"Common development tools",mooCtn:"Featured tools"},qrcode:{title:"QR Code Generator",inputPlaceholder:"Enter address",generate:"Update",download:"Download QR Code",downloadSvg:"Download SVG File",clear:"Clear",rightClickTip:"Right click to save QR code image",saveImageTip:"*Right click on image to save QR code PNG image"},imageCompressor:{dragTip:"Click icon or drag image here",formatTip:"(*.jpg/*.png/*.gif formats)",resetTip:"Click to reset image",compressRatio:"Image compression ratio (0~1, default 1)",backHome:"Back to Home"},jsonCtn:{title:"JSON Conversion Tool",description:"Convenient tool to convert JS objects to JSON objects for KAmis editor processing. Typical scenario: ECharts configuration conversion",jsObject:"JavaScript Object",jsonResult:"JSON Result",backHome:"Back to Home"},svgEditor:{title:"SVG Editor/Optimizer",description:"Help developers adjust SVG attributes, reduce file size, and generate optimized code",svgInput:"SVG Input",placeholder:"Paste or enter SVG code here...",clearInput:"Clear",loadExample:"Load Example",uploadSvg:"Upload SVG",optimize:"Optimize",copy:"Copy",download:"Download",preview:"Preview",originalSize:"Original Size",optimizedSize:"Optimized Size",compressionRatio:"Compression Ratio",backHome:"Back to Home"},dateConverter:{title:"Date Time Conversion Tool",description:"Convert between Unix timestamp, ISO format, local time and other formats, supports timezone conversion and date calculation",inputTime:"Input Time",useCurrentTime:"Use Current Time"},unitCalculator:{title:"rem/vw/px Converter",pxPlaceholder:"px unit",vwPlaceholder:"vw unit, 1rem=10vw",remPlaceholder:"rem unit",remRatio:"rem ratio",remRatioPlaceholder:"rem conversion ratio, default 1rem=75px",keepDigits:"decimal places",keepDigitsPlaceholder:"keep decimal places, default 2"},postman:{title:"API Testing Tool",urlPlaceholder:"Enter API URL",saveRequest:"Save Request",loadRequest:"Load Request"},regex:{filter:"Filter",test:"Test",inputTest:"Enter test string",result:"Result"},mooCss:{searchPlaceholder:"Enter module or style property"},utils:{searchPlaceholder:"Enter method name or module name"},colorPass:{title:"Color Conversion Tool",hexPlaceholder:"HEX color value",rgbPlaceholder:"RGB color value",hslPlaceholder:"HSL color value",backHome:"Back to Home"},common:{confirm:"Confirm",cancel:"Cancel",save:"Save",reset:"Reset",copy:"Copy",paste:"Paste",clear:"Clear",upload:"Upload",download:"Download",preview:"Preview",edit:"Edit",delete:"Delete",search:"Search",filter:"Filter",sort:"Sort",refresh:"Refresh",loading:"Loading...",success:"Success",error:"Error",warning:"Warning",info:"Info",backHome:"Back to Home"}}};const H=new class{constructor(){t(this,"currentLang"),t(this,"listeners",[]),this.currentLang=this.getStoredLanguage()||"zh"}getStoredLanguage(){return localStorage.getItem("fe-tools-language")}setLanguage(e){$[e]&&(this.currentLang=e,localStorage.setItem("fe-tools-language",e),this.notifyListeners())}getCurrentLanguage(){return this.currentLang}t(e){const t=e.split(".");let a=$[this.currentLang];for(const o of t){if(!a||"object"!=typeof a)return e;a=a[o]}return a||e}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(){this.listeners.forEach(e=>e(this.currentLang))}},P="https://blog.michealwayne.cn/",Y={getFeTools:`get ${P}fe-tools/datas/tools.json`,handleTranslate:"get https://translate.appworlds.cn",getMooCSS:`get ${P}fe-tools/datas/moo-css.json`,getRegex:`get ${P}fe-tools/datas/regex.json`,getUtilFuncs:`get ${P}fe-tools/stable/data/yafReflectionMap.json`},j=[{name:"mdn",link:"https://developer.mozilla.org/zh-CN/search?q="},{name:"github",link:"https://github.com/search?q="},{name:"npmjs",link:"https://www.npmjs.com/search?q="},{name:"caniuse",link:"https://caniuse.com/#search="},{name:"stackoverflow",link:"https://stackoverflow.com/search?q="},{name:"google",link:"https://www.google.com/search?q="},{name:"baidu",link:"https://www.baidu.com/s?ie=UTF-8&wd="}],F=(e,t)=>{const a=e.__vccOpts||e;for(const[o,n]of t)a[o]=n;return a};function V(e){if(e)try{chrome.tabs.create({url:e})}catch(ra){window.open(e)}}function B(e){const t=[];function a(e){var o;let n=e.length-1;for(;n>=0;){const l=e[n];l.url&&l.title&&t.push({title:l.title,url:l.url}),(null==(o=l.children)?void 0:o.length)&&a(l.children),n--}}try{chrome.bookmarks.getTree(function(o){try{a(o),e(t)}catch(ra){alert(null==ra?void 0:ra.message)}})}catch(ra){}}const G=["placeholder"],q=["src","title"],W={class:"f-tc g-fs12 g-mt10"},J=a({name:"QRCode",props:{keywords:{type:String,default:""}},setup(e){const t=e=>H.t(e),a=e,{keywords:p}=o(a),f=n(""),h=n(""),g=n(""),_=e=>{e.stopPropagation()},b=()=>{y()},y=()=>{const e=f.value;(null==e?void 0:e.includes("http"))?(g.value=e,h.value=I(e).getImgUrl()):function(e){try{chrome.tabs.query({active:!0,currentWindow:!0},t=>{const a=t[0];e&&e(a.url,a)})}catch(ra){e(location.href)}}(e=>{f.value=e,g.value=e,h.value=I(e).getImgUrl()})};return l(p,(e,t)=>{e!==t&&e!==f.value&&(f.value=e)}),l(f,(e,t)=>{e&&e!==t&&y()}),r(()=>{f.value=p.value||"",y()}),(e,a)=>(v(),i("div",null,[s("p",{class:"m-qr_search u-c-middle",onClick:d(_,["stop"])},[c(s("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),placeholder:t("qrcode.inputPlaceholder"),class:"u-input",type:"text"},null,8,G),[[u,f.value]]),s("button",{class:"u-btn u-w80 g-ml10","s-color":"blue",onClick:d(b,["stop"])},m(t("qrcode.generate")),1)]),s("img",{class:"u-icon u-w200 g-mt20 g-center",src:h.value,title:t("qrcode.rightClickTip"),alt:"qrcode"},null,8,q),s("p",W,m(t("qrcode.saveImageTip")),1),s("button",{class:"u-btn u-w100 u-h40 g-center g-mt10","s-color":"blue",onClick:a[1]||(a[1]=d(()=>((e="svg")=>{I(g.value).downloadQR(e)})(),["stop"]))},m(t("qrcode.downloadSvg")),1)]))}}),{entries:X,setPrototypeOf:Z,isFrozen:Q,getPrototypeOf:K,getOwnPropertyDescriptor:ee}=Object;let{freeze:te,seal:ae,create:oe}=Object,{apply:ne,construct:le}="undefined"!=typeof Reflect&&Reflect;te||(te=function(e){return e}),ae||(ae=function(e){return e}),ne||(ne=function(e,t,a){return e.apply(t,a)}),le||(le=function(e,t){return new e(...t)});const re=Se(Array.prototype.forEach),ie=Se(Array.prototype.lastIndexOf),se=Se(Array.prototype.pop),ce=Se(Array.prototype.push),ue=Se(Array.prototype.splice),de=Se(String.prototype.toLowerCase),me=Se(String.prototype.toString),ve=Se(String.prototype.match),pe=Se(String.prototype.replace),fe=Se(String.prototype.indexOf),he=Se(String.prototype.trim),ge=Se(Object.prototype.hasOwnProperty),_e=Se(RegExp.prototype.test),be=(ye=TypeError,function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return le(ye,t)});var ye;function Se(e){return function(t){for(var a=arguments.length,o=new Array(a>1?a-1:0),n=1;n<a;n++)o[n-1]=arguments[n];return ne(e,t,o)}}function Te(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:de;Z&&Z(e,null);let o=t.length;for(;o--;){let n=t[o];if("string"==typeof n){const e=a(n);e!==n&&(Q(t)||(t[o]=e),n=e)}e[n]=!0}return e}function Ce(e){for(let t=0;t<e.length;t++){ge(e,t)||(e[t]=null)}return e}function we(e){const t=oe(null);for(const[a,o]of X(e)){ge(e,a)&&(Array.isArray(o)?t[a]=Ce(o):o&&"object"==typeof o&&o.constructor===Object?t[a]=we(o):t[a]=o)}return t}function Ee(e,t){for(;null!==e;){const a=ee(e,t);if(a){if(a.get)return Se(a.get);if("function"==typeof a.value)return Se(a.value)}e=K(e)}return function(){return null}}const ke=te(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xe=te(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ae=te(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Oe=te(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ne=te(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Me=te(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),De=te(["#text"]),Re=te(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Le=te(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ie=te(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ue=te(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ze=ae(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$e=ae(/<%[\w\W]*|[\w\W]*%>/gm),He=ae(/\$\{[\w\W]*/gm),Pe=ae(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ye=ae(/^aria-[\-\w]+$/),je=ae(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Fe=ae(/^(?:\w+script|data):/i),Ve=ae(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Be=ae(/^html$/i),Ge=ae(/^[a-z][.\w]*(-[.\w]+)+$/i);var qe=Object.freeze({__proto__:null,ARIA_ATTR:Ye,ATTR_WHITESPACE:Ve,CUSTOM_ELEMENT:Ge,DATA_ATTR:Pe,DOCTYPE_NAME:Be,ERB_EXPR:$e,IS_ALLOWED_URI:je,IS_SCRIPT_OR_DATA:Fe,MUSTACHE_EXPR:ze,TMPLIT_EXPR:He});const We=1,Je=3,Xe=7,Ze=8,Qe=9;var Ke=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const a=t=>e(t);if(a.version="3.2.4",a.removed=[],!t||!t.document||t.document.nodeType!==Qe||!t.Element)return a.isSupported=!1,a;let{document:o}=t;const n=o,l=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:i,Node:s,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:v,trustedTypes:p}=t,f=c.prototype,h=Ee(f,"cloneNode"),g=Ee(f,"remove"),_=Ee(f,"nextSibling"),b=Ee(f,"childNodes"),y=Ee(f,"parentNode");if("function"==typeof i){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let S,T="";const{implementation:C,createNodeIterator:w,createDocumentFragment:E,getElementsByTagName:k}=o,{importNode:x}=n;let A={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};a.isSupported="function"==typeof X&&"function"==typeof y&&C&&void 0!==C.createHTMLDocument;const{MUSTACHE_EXPR:O,ERB_EXPR:N,TMPLIT_EXPR:M,DATA_ATTR:D,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:U}=qe;let{IS_ALLOWED_URI:z}=qe,$=null;const H=Te({},[...ke,...xe,...Ae,...Ne,...De]);let P=null;const Y=Te({},[...Re,...Le,...Ie,...Ue]);let j=Object.seal(oe(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),F=null,V=null,B=!0,G=!0,q=!1,W=!0,J=!1,Z=!0,Q=!1,K=!1,ee=!1,ae=!1,ne=!1,le=!1,ye=!0,Se=!1,Ce=!0,ze=!1,$e={},He=null;const Pe=Te({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ye=null;const Fe=Te({},["audio","video","img","source","image","track"]);let Ve=null;const Ge=Te({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",et="http://www.w3.org/2000/svg",tt="http://www.w3.org/1999/xhtml";let at=tt,ot=!1,nt=null;const lt=Te({},[Ke,et,tt],me);let rt=Te({},["mi","mo","mn","ms","mtext"]),it=Te({},["annotation-xml"]);const st=Te({},["title","style","font","a","script"]);let ct=null;const ut=["application/xhtml+xml","text/html"];let dt=null,mt=null;const vt=o.createElement("form"),pt=function(e){return e instanceof RegExp||e instanceof Function},ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!mt||mt!==e){if(e&&"object"==typeof e||(e={}),e=we(e),ct=-1===ut.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,dt="application/xhtml+xml"===ct?me:de,$=ge(e,"ALLOWED_TAGS")?Te({},e.ALLOWED_TAGS,dt):H,P=ge(e,"ALLOWED_ATTR")?Te({},e.ALLOWED_ATTR,dt):Y,nt=ge(e,"ALLOWED_NAMESPACES")?Te({},e.ALLOWED_NAMESPACES,me):lt,Ve=ge(e,"ADD_URI_SAFE_ATTR")?Te(we(Ge),e.ADD_URI_SAFE_ATTR,dt):Ge,Ye=ge(e,"ADD_DATA_URI_TAGS")?Te(we(Fe),e.ADD_DATA_URI_TAGS,dt):Fe,He=ge(e,"FORBID_CONTENTS")?Te({},e.FORBID_CONTENTS,dt):Pe,F=ge(e,"FORBID_TAGS")?Te({},e.FORBID_TAGS,dt):{},V=ge(e,"FORBID_ATTR")?Te({},e.FORBID_ATTR,dt):{},$e=!!ge(e,"USE_PROFILES")&&e.USE_PROFILES,B=!1!==e.ALLOW_ARIA_ATTR,G=!1!==e.ALLOW_DATA_ATTR,q=e.ALLOW_UNKNOWN_PROTOCOLS||!1,W=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,J=e.SAFE_FOR_TEMPLATES||!1,Z=!1!==e.SAFE_FOR_XML,Q=e.WHOLE_DOCUMENT||!1,ae=e.RETURN_DOM||!1,ne=e.RETURN_DOM_FRAGMENT||!1,le=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,ye=!1!==e.SANITIZE_DOM,Se=e.SANITIZE_NAMED_PROPS||!1,Ce=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,z=e.ALLOWED_URI_REGEXP||je,at=e.NAMESPACE||tt,rt=e.MATHML_TEXT_INTEGRATION_POINTS||rt,it=e.HTML_INTEGRATION_POINTS||it,j=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&pt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&pt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),J&&(G=!1),ne&&(ae=!0),$e&&($=Te({},De),P=[],!0===$e.html&&(Te($,ke),Te(P,Re)),!0===$e.svg&&(Te($,xe),Te(P,Le),Te(P,Ue)),!0===$e.svgFilters&&(Te($,Ae),Te(P,Le),Te(P,Ue)),!0===$e.mathMl&&(Te($,Ne),Te(P,Ie),Te(P,Ue))),e.ADD_TAGS&&($===H&&($=we($)),Te($,e.ADD_TAGS,dt)),e.ADD_ATTR&&(P===Y&&(P=we(P)),Te(P,e.ADD_ATTR,dt)),e.ADD_URI_SAFE_ATTR&&Te(Ve,e.ADD_URI_SAFE_ATTR,dt),e.FORBID_CONTENTS&&(He===Pe&&(He=we(He)),Te(He,e.FORBID_CONTENTS,dt)),Ce&&($["#text"]=!0),Q&&Te($,["html","head","body"]),$.table&&(Te($,["tbody"]),delete F.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw be('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw be('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=e.TRUSTED_TYPES_POLICY,T=S.createHTML("")}else void 0===S&&(S=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let a=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(a=t.getAttribute(o));const n="dompurify"+(a?"#"+a:"");try{return e.createPolicy(n,{createHTML:e=>e,createScriptURL:e=>e})}catch(l){return null}}(p,l)),null!==S&&"string"==typeof T&&(T=S.createHTML(""));te&&te(e),mt=e}},ht=Te({},[...xe,...Ae,...Oe]),gt=Te({},[...Ne,...Me]),_t=function(e){ce(a.removed,{element:e});try{y(e).removeChild(e)}catch(t){g(e)}},bt=function(e,t){try{ce(a.removed,{attribute:t.getAttributeNode(e),from:t})}catch(o){ce(a.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ae||ne)try{_t(t)}catch(o){}else try{t.setAttribute(e,"")}catch(o){}},yt=function(e){let t=null,a=null;if(ee)e="<remove></remove>"+e;else{const t=ve(e,/^[\r\n\t ]+/);a=t&&t[0]}"application/xhtml+xml"===ct&&at===tt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const n=S?S.createHTML(e):e;if(at===tt)try{t=(new v).parseFromString(n,ct)}catch(r){}if(!t||!t.documentElement){t=C.createDocument(at,"template",null);try{t.documentElement.innerHTML=ot?T:n}catch(r){}}const l=t.body||t.documentElement;return e&&a&&l.insertBefore(o.createTextNode(a),l.childNodes[0]||null),at===tt?k.call(t,Q?"html":"body")[0]:Q?t.documentElement:l},St=function(e){return w.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Tt=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ct=function(e){return"function"==typeof s&&e instanceof s};function wt(e,t,o){re(e,e=>{e.call(a,t,o,mt)})}const Et=function(e){let t=null;if(wt(A.beforeSanitizeElements,e,null),Tt(e))return _t(e),!0;const o=dt(e.nodeName);if(wt(A.uponSanitizeElement,e,{tagName:o,allowedTags:$}),e.hasChildNodes()&&!Ct(e.firstElementChild)&&_e(/<[/\w]/g,e.innerHTML)&&_e(/<[/\w]/g,e.textContent))return _t(e),!0;if(e.nodeType===Xe)return _t(e),!0;if(Z&&e.nodeType===Ze&&_e(/<[/\w]/g,e.data))return _t(e),!0;if(!$[o]||F[o]){if(!F[o]&&xt(o)){if(j.tagNameCheck instanceof RegExp&&_e(j.tagNameCheck,o))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(o))return!1}if(Ce&&!He[o]){const t=y(e)||e.parentNode,a=b(e)||e.childNodes;if(a&&t){for(let o=a.length-1;o>=0;--o){const n=h(a[o],!0);n.__removalCount=(e.__removalCount||0)+1,t.insertBefore(n,_(e))}}}return _t(e),!0}return e instanceof c&&!function(e){let t=y(e);t&&t.tagName||(t={namespaceURI:at,tagName:"template"});const a=de(e.tagName),o=de(t.tagName);return!!nt[e.namespaceURI]&&(e.namespaceURI===et?t.namespaceURI===tt?"svg"===a:t.namespaceURI===Ke?"svg"===a&&("annotation-xml"===o||rt[o]):Boolean(ht[a]):e.namespaceURI===Ke?t.namespaceURI===tt?"math"===a:t.namespaceURI===et?"math"===a&&it[o]:Boolean(gt[a]):e.namespaceURI===tt?!(t.namespaceURI===et&&!it[o])&&!(t.namespaceURI===Ke&&!rt[o])&&!gt[a]&&(st[a]||!ht[a]):!("application/xhtml+xml"!==ct||!nt[e.namespaceURI]))}(e)?(_t(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!_e(/<\/no(script|embed|frames)/i,e.innerHTML)?(J&&e.nodeType===Je&&(t=e.textContent,re([O,N,M],e=>{t=pe(t,e," ")}),e.textContent!==t&&(ce(a.removed,{element:e.cloneNode()}),e.textContent=t)),wt(A.afterSanitizeElements,e,null),!1):(_t(e),!0)},kt=function(e,t,a){if(ye&&("id"===t||"name"===t)&&(a in o||a in vt))return!1;if(G&&!V[t]&&_e(D,t));else if(B&&_e(R,t));else if(!P[t]||V[t]){if(!(xt(e)&&(j.tagNameCheck instanceof RegExp&&_e(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&_e(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&_e(j.tagNameCheck,a)||j.tagNameCheck instanceof Function&&j.tagNameCheck(a))))return!1}else if(Ve[t]);else if(_e(z,pe(a,I,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==fe(a,"data:")||!Ye[e]){if(q&&!_e(L,pe(a,I,"")));else if(a)return!1}else;return!0},xt=function(e){return"annotation-xml"!==e&&ve(e,U)},At=function(e){wt(A.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Tt(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P,forceKeepAttr:void 0};let n=t.length;for(;n--;){const r=t[n],{name:i,namespaceURI:s,value:c}=r,u=dt(i);let d="value"===i?c:he(c);if(o.attrName=u,o.attrValue=d,o.keepAttr=!0,o.forceKeepAttr=void 0,wt(A.uponSanitizeAttribute,e,o),d=o.attrValue,!Se||"id"!==u&&"name"!==u||(bt(i,e),d="user-content-"+d),Z&&_e(/((--!?|])>)|<\/(style|title)/i,d)){bt(i,e);continue}if(o.forceKeepAttr)continue;if(bt(i,e),!o.keepAttr)continue;if(!W&&_e(/\/>/i,d)){bt(i,e);continue}J&&re([O,N,M],e=>{d=pe(d,e," ")});const m=dt(e.nodeName);if(kt(m,u,d)){if(S&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(s);else switch(p.getAttributeType(m,u)){case"TrustedHTML":d=S.createHTML(d);break;case"TrustedScriptURL":d=S.createScriptURL(d)}try{s?e.setAttributeNS(s,i,d):e.setAttribute(i,d),Tt(e)?_t(e):se(a.removed)}catch(l){}}}wt(A.afterSanitizeAttributes,e,null)},Ot=function e(t){let a=null;const o=St(t);for(wt(A.beforeSanitizeShadowDOM,t,null);a=o.nextNode();)wt(A.uponSanitizeShadowNode,a,null),Et(a),At(a),a.content instanceof r&&e(a.content);wt(A.afterSanitizeShadowDOM,t,null)};return a.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,l=null,i=null,c=null;if(ot=!e,ot&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ct(e)){if("function"!=typeof e.toString)throw be("toString is not a function");if("string"!=typeof(e=e.toString()))throw be("dirty is not a string, aborting")}if(!a.isSupported)return e;if(K||ft(t),a.removed=[],"string"==typeof e&&(ze=!1),ze){if(e.nodeName){const t=dt(e.nodeName);if(!$[t]||F[t])throw be("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof s)o=yt("\x3c!----\x3e"),l=o.ownerDocument.importNode(e,!0),l.nodeType===We&&"BODY"===l.nodeName||"HTML"===l.nodeName?o=l:o.appendChild(l);else{if(!ae&&!J&&!Q&&-1===e.indexOf("<"))return S&&le?S.createHTML(e):e;if(o=yt(e),!o)return ae?null:le?T:""}o&&ee&&_t(o.firstChild);const u=St(ze?e:o);for(;i=u.nextNode();)Et(i),At(i),i.content instanceof r&&Ot(i.content);if(ze)return e;if(ae){if(ne)for(c=E.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(P.shadowroot||P.shadowrootmode)&&(c=x.call(n,c,!0)),c}let d=Q?o.outerHTML:o.innerHTML;return Q&&$["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&_e(Be,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),J&&re([O,N,M],e=>{d=pe(d,e," ")}),S&&le?S.createHTML(d):d},a.setConfig=function(){ft(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),K=!0},a.clearConfig=function(){mt=null,K=!1},a.isValidAttribute=function(e,t,a){mt||ft({});const o=dt(e),n=dt(t);return kt(o,n,a)},a.addHook=function(e,t){"function"==typeof t&&ce(A[e],t)},a.removeHook=function(e,t){if(void 0!==t){const a=ie(A[e],t);return-1===a?void 0:ue(A[e],a,1)[0]}return se(A[e])},a.removeHooks=function(e){A[e]=[]},a.removeAllHooks=function(){A={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},a}();const et={class:"json-converter"},tt={class:"json-converter__header"},at={class:"json-converter__header-content"},ot={class:"json-converter__content"},nt={class:"json-converter__panel"},lt={class:"json-converter__panel-header"},rt={key:0,class:"json-converter__error"},it={class:"json-converter__divider"},st={class:"json-converter__action-icons"},ct={class:"json-converter__panel"},ut={class:"json-converter__panel-header"},dt={class:"json-converter__panel-controls"},mt=["disabled"],vt=a({name:"JsonCtn",__name:"index",props:{back:{type:Function}},setup(e){const t=e=>H.t(e),a=e,o=n(""),r=n(""),d=n(""),y=n(!1),S=n(""),T=n(2),C=(()=>{let e=null;return t=>{e&&clearTimeout(e),e=setTimeout(()=>{t(),e=null},1e3)}})();l(o,e=>{if(!e)return d.value="",void(r.value="");C(()=>{E(!0)})});const w=()=>{o.value="",r.value="",d.value=""},E=(e=!1)=>{let t=o.value;if(d.value="",t)try{t=x(t),t.includes("{")&&t.includes("}")&&(t=t.slice(t.indexOf("{"),t.lastIndexOf("}")+1));const a=k(t);if(!a)throw new Error("无法解析JavaScript对象");r.value=JSON.stringify(a,null,T.value),e||M("转换成功！")}catch(ra){d.value=`转换失败：${ra.message}`,r.value=""}else r.value=""},k=e=>{const t=Ke.sanitize(e);try{return Function(`"use strict"; return (${t})`)()}catch(ra){throw ra}},x=e=>e.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,"$1").trim(),A=(e,t=2)=>{const a=(e,o=0)=>{const n=" ".repeat(o*t);if(null===e)return"null";if(void 0===e)return"undefined";switch(typeof e){case"string":return`'${e.replace(/'/g,"\\'")}'`;case"number":case"boolean":return e.toString();case"object":if(Array.isArray(e)){if(0===e.length)return"[]";return`[\n${n}  ${e.map(e=>a(e,o+1)).join(",\n"+n+"  ")}\n${n}]`}{const t=Object.keys(e);if(0===t.length)return"{}";return`{\n${n}  ${t.map(t=>`${/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(t)?t:`'${t.replace(/'/g,"\\'")}'`}: ${a(e[t],o+1)}`).join(",\n"+n+"  ")}\n${n}}`}default:return String(e)}};return a(e)},O=async()=>{if(r.value)try{await navigator.clipboard.writeText(r.value),M("已复制到剪贴板！")}catch(e){d.value="复制失败，请手动复制"}},N=e=>{if(r.value)try{const t=JSON.parse(r.value);T.value=e??2,r.value=JSON.stringify(t,null,e)}catch(ra){d.value=`格式化失败：${ra.message}`}},M=e=>{S.value=e,y.value=!0,setTimeout(()=>{y.value=!1},2e3)},D=()=>{a.back&&a.back()};return(e,a)=>{const n=_("a-button"),l=_("a-tooltip"),T=_("a-menu-item"),C=_("a-menu"),k=_("a-dropdown"),x=_("a-modal");return v(),i("section",et,[s("div",tt,[s("div",at,[s("h3",null,m(t("jsonCtn.title")),1),s("p",null,m(t("jsonCtn.description")),1)]),p(n,{type:"primary",size:"small",class:"json-converter__back-btn",onClick:D},{default:f(()=>[a[10]||(a[10]=s("i",{class:"u-icon icon-home"},null,-1)),b(" "+m(t("common.backHome")),1)]),_:1})]),s("div",ot,[s("div",nt,[s("div",lt,[s("span",null,m(t("jsonCtn.jsObject")),1),o.value?(v(),g(n,{key:0,type:"link",size:"small",onClick:w,class:"clear-btn"},{default:f(()=>[s("span",null,m(t("common.clear")),1)]),_:1})):h("",!0)]),c(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),class:"json-converter__textarea",placeholder:"在此输入js对象，如var obj = { a: 1 }"},null,512),[[u,o.value]]),d.value?(v(),i("div",rt,m(d.value),1)):h("",!0)]),s("div",it,[s("div",st,[p(l,{title:"转换"},{default:f(()=>[s("span",{class:"action-icon to-json",onClick:a[1]||(a[1]=e=>E())},"→")]),_:1}),p(l,{title:"反向"},{default:f(()=>[s("span",{class:"action-icon to-js",onClick:a[2]||(a[2]=e=>(()=>{if(d.value="",r.value)try{const e=JSON.parse(r.value);o.value=A(e),M("反向转换成功！")}catch(ra){d.value=`反向转换失败：${ra.message}`}})())},"←")]),_:1})])]),s("div",ct,[s("div",ut,[a[17]||(a[17]=s("span",null,"JSON 结果",-1)),s("div",dt,[p(l,{title:"复制到剪贴板"},{default:f(()=>[p(n,{type:"link",size:"small",onClick:O,disabled:!r.value,class:"copy-btn"},{default:f(()=>[...a[11]||(a[11]=[b(" 复制 ",-1)])]),_:1},8,["disabled"])]),_:1}),r.value?(v(),g(k,{key:0},{overlay:f(()=>[p(C,null,{default:f(()=>[p(T,{onClick:a[3]||(a[3]=e=>N(null))},{default:f(()=>[...a[13]||(a[13]=[b("默认格式",-1)])]),_:1}),p(T,{onClick:a[4]||(a[4]=e=>N(0))},{default:f(()=>[...a[14]||(a[14]=[b("压缩",-1)])]),_:1}),p(T,{onClick:a[5]||(a[5]=e=>N(2))},{default:f(()=>[...a[15]||(a[15]=[b("缩进 2 空格",-1)])]),_:1}),p(T,{onClick:a[6]||(a[6]=e=>N(4))},{default:f(()=>[...a[16]||(a[16]=[b("缩进 4 空格",-1)])]),_:1})]),_:1})]),default:f(()=>[p(n,{type:"link",size:"small",class:"format-btn"},{default:f(()=>[...a[12]||(a[12]=[b(" 格式 ▼ ",-1)])]),_:1})]),_:1})):h("",!0)])]),c(s("textarea",{"onUpdate:modelValue":a[7]||(a[7]=e=>r.value=e),class:"json-converter__textarea",placeholder:"转换后的 JSON 将显示在这里",disabled:!r.value},null,8,mt),[[u,r.value]])])]),a[18]||(a[18]=s("div",{class:"json-converter__tips"},[s("h4",null,"使用提示："),s("ul",null,[s("li",null,"支持标准 JavaScript 对象语法"),s("li",null,"支持 ECharts 配置对象转换"),s("li",null,"可以包含注释，转换时会自动忽略"),s("li",null,"反向转换可将 JSON 转回 JavaScript 对象格式")])],-1)),p(x,{visible:y.value,"onUpdate:visible":a[8]||(a[8]=e=>y.value=e),title:"操作成功",onOk:a[9]||(a[9]=e=>y.value=!1)},{default:f(()=>[s("p",null,m(S.value),1)]),_:1},8,["visible"])])}}}),pt=F(vt,[["__scopeId","data-v-ec8aee15"]]),ft={class:"svg-editor__header"},ht={class:"svg-editor__header-content"},gt={class:"svg-editor__title"},_t={class:"svg-editor__content"},bt={class:"svg-editor__input-section"},yt={class:"svg-editor__panel"},St={class:"svg-editor__panel-header"},Tt={class:"svg-editor__panel-controls"},Ct={class:"svg-editor__upload-btn"},wt=["placeholder"],Et={key:0,class:"svg-editor__error"},kt={class:"svg-editor__middle-section"},xt={class:"svg-editor__controls-section"},At={class:"svg-editor__controls"},Ot={class:"svg-editor__options"},Nt={class:"svg-editor__options-toggle"},Mt={class:"svg-editor__options-panel"},Dt={class:"svg-editor__option-group"},Rt={class:"svg-editor__checkbox"},Lt={class:"svg-editor__checkbox"},It={class:"svg-editor__checkbox"},Ut={class:"svg-editor__checkbox"},zt={class:"svg-editor__checkbox"},$t={class:"svg-editor__checkbox"},Ht={class:"svg-editor__checkbox"},Pt={class:"svg-editor__checkbox"},Yt={class:"svg-editor__checkbox"},jt={class:"svg-editor__action-buttons"},Ft=["disabled"],Vt=["disabled"],Bt={class:"svg-editor__output-section"},Gt={class:"svg-editor__panel"},qt={class:"svg-editor__panel-header"},Wt={class:"svg-editor__panel-controls"},Jt=["disabled"],Xt={key:0,class:"svg-editor__stats"},Zt={key:0,class:"svg-editor__preview"},Qt={class:"svg-editor__preview-header"},Kt=["innerHTML"],ea={key:1,class:"svg-editor__success-modal"},ta={class:"svg-editor__success-modal-content"},aa=a({name:"SvgEditor",__name:"index",props:{back:{type:Function}},setup(e){const t=e=>H.t(e),a=e,o=n(""),l=n(""),r=n(""),d=n(!1),p=n(""),f=n(!1),g=n(!0),_=y({removeComments:!0,removeEmptyAttrs:!0,removeEmptyText:!0,removeHiddenElems:!0,removeMetadata:!0,removeUnusedNS:!0,cleanupIDs:!0,convertColors:!0,removeViewBox:!1}),E=y({show:!1,originalSize:"0 B",optimizedSize:"0 B",reduction:"0%"}),k=()=>{g.value=!g.value},x=S(()=>Ke.sanitize(l.value||o.value,{USE_PROFILES:{svg:!0,svgFilters:!0}})),A=()=>{o.value="",l.value="",r.value="",E.show=!1},O=()=>{o.value='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n  \x3c!-- 这是一个注释 --\x3e\n  <circle cx="12" cy="12" r="10"></circle>\n  <line x1="12" y1="8" x2="12" y2="16"></line>\n  <line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>'},N=e=>{e.stopPropagation()},M=e=>{var t;const a=null==(t=e.target.files)?void 0:t[0];if(a){const e=new FileReader;e.onload=e=>{var t;(null==(t=e.target)?void 0:t.result)&&(o.value=e.target.result)},e.readAsText(a)}},D=()=>{if(r.value="",o.value)try{const e=(new DOMParser).parseFromString(o.value,"image/svg+xml"),t=e.querySelector("parsererror");if(t)throw new Error("SVG 解析错误: "+t.textContent);_.removeComments&&$(e),_.removeEmptyAttrs&&P(e),_.removeEmptyText&&Y(e),_.removeHiddenElems&&j(e),_.removeMetadata&&F(e),_.removeUnusedNS&&V(e),_.cleanupIDs&&B(e),_.convertColors&&G(e),_.removeViewBox||q(e);let a=(new XMLSerializer).serializeToString(e);const n=new Blob([o.value]).size,r=new Blob([a]).size,i=((n-r)/n*100).toFixed(2);E.show=!0,E.originalSize=W(n),E.optimizedSize=W(r),E.reduction=`${i}%`,l.value=a,U("SVG 优化成功！")}catch(ra){r.value=`优化失败：${ra.message}`,l.value=""}else r.value="请输入 SVG 代码"},R=()=>{o.value?f.value=!0:r.value="请输入 SVG 代码"},L=async()=>{if(l.value)try{await navigator.clipboard.writeText(l.value),U("已复制到剪贴板！")}catch(e){r.value="复制失败，请手动复制"}},I=()=>{if(!l.value)return;const e=new Blob([l.value],{type:"image/svg+xml"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="optimized.svg",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t),U("SVG 文件已下载！")},U=e=>{p.value=e,d.value=!0,setTimeout(()=>{d.value=!1},2e3)},z=()=>{a.back&&a.back()},$=e=>{const t=e.createNodeIterator(e,NodeFilter.SHOW_COMMENT,null);let a;const o=[];for(;a=t.nextNode();)o.push(a);o.forEach(e=>{var t;null==(t=e.parentNode)||t.removeChild(e)})},P=e=>{e.querySelectorAll("*").forEach(e=>{Array.from(e.attributes).forEach(t=>{""===t.value&&e.removeAttribute(t.name)})})},Y=e=>{var t;const a=e.createNodeIterator(e,NodeFilter.SHOW_TEXT,null);let o;const n=[];for(;o=a.nextNode();)""===(null==(t=o.textContent)?void 0:t.trim())&&n.push(o);n.forEach(e=>{var t;null==(t=e.parentNode)||t.removeChild(e)})},j=e=>{e.querySelectorAll('[display="none"], [visibility="hidden"]').forEach(e=>{var t;null==(t=e.parentNode)||t.removeChild(e)})},F=e=>{e.querySelectorAll("metadata, title, desc").forEach(e=>{var t;null==(t=e.parentNode)||t.removeChild(e)})},V=e=>{const t=e.querySelector("svg");if(!t)return;Array.from(t.attributes).forEach(a=>{a.name.startsWith("xmlns:")&&!e.querySelector(`*[*|*="${a.name.split(":")[1]}"]`)&&t.removeAttribute(a.name)})},B=e=>{const t=e.querySelectorAll("[id]");let a=1;t.forEach(t=>{const o=t.getAttribute("id"),n="id"+a++;if(t.setAttribute("id",n),o){e.querySelectorAll(`[*|href="#${o}"], [*|url="#${o}"]`).forEach(e=>{Array.from(e.attributes).forEach(t=>{t.value===`#${o}`&&e.setAttribute(t.name,`#${n}`)})})}})},G=e=>{e.querySelectorAll("[fill], [stroke]").forEach(e=>{["fill","stroke"].forEach(t=>{const a=e.getAttribute(t);if(a){if(a.startsWith("rgb(")){const o=a.match(/\d+/g);if(o&&3===o.length){const a=`#${parseInt(o[0]).toString(16).padStart(2,"0")}${parseInt(o[1]).toString(16).padStart(2,"0")}${parseInt(o[2]).toString(16).padStart(2,"0")}`;e.setAttribute(t,a)}}if(a.match(/^#([0-9a-f])\1([0-9a-f])\2([0-9a-f])\3$/i)){const o=`#${a[1]}${a[3]}${a[5]}`;e.setAttribute(t,o)}}})})},q=e=>{const t=e.querySelector("svg");if(t&&!t.hasAttribute("viewBox")&&t.hasAttribute("width")&&t.hasAttribute("height")){const e=t.getAttribute("width"),a=t.getAttribute("height");t.setAttribute("viewBox",`0 0 ${e} ${a}`)}},W=(e,t=2)=>{if(0===e)return"0 B";const a=t<0?0:t,o=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,o)).toFixed(a))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][o]};return(e,a)=>(v(),i("section",{class:"svg-editor",onClick:N},[s("div",ft,[s("div",ht,[s("h4",gt,m(t("svgEditor.title")),1),s("p",null,m(t("svgEditor.description")),1)]),s("button",{class:"svg-editor__home-btn",onClick:z},[a[13]||(a[13]=s("i",{class:"u-icon icon-home"},null,-1)),b(" "+m(t("common.backHome")),1)])]),s("div",_t,[s("div",bt,[s("div",yt,[s("div",St,[s("span",null,m(t("svgEditor.svgInput")),1),s("div",Tt,[o.value?(v(),i("span",{key:0,class:"svg-editor__btn-link",onClick:A},m(t("svgEditor.clear")),1)):h("",!0),s("span",{class:"svg-editor__btn-link",onClick:O},m(t("svgEditor.loadExample")),1),s("label",Ct,[b(m(t("svgEditor.uploadSvg"))+" ",1),s("input",{type:"file",accept:".svg",onChange:M,class:"svg-editor__upload-input"},null,32)])])]),c(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),class:"svg-editor__textarea",placeholder:t("svgEditor.placeholder")},null,8,wt),[[u,o.value]]),r.value?(v(),i("div",Et,m(r.value),1)):h("",!0)])]),s("div",kt,[s("div",xt,[s("div",At,[s("div",Ot,[s("div",{class:"svg-editor__options-header",onClick:k},[a[14]||(a[14]=s("h4",null,"优化选项",-1)),s("span",Nt,[s("i",{class:T(["u-icon",g.value?"icon-chevron-up":"icon-chevron-down"])},null,2)])]),c(s("div",Mt,[s("div",Dt,[s("label",Rt,[c(s("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=e=>_.removeComments=e)},null,512),[[w,_.removeComments]]),a[15]||(a[15]=s("span",null,"移除注释",-1))]),s("label",Lt,[c(s("input",{type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=e=>_.removeEmptyAttrs=e)},null,512),[[w,_.removeEmptyAttrs]]),a[16]||(a[16]=s("span",null,"移除空属性",-1))]),s("label",It,[c(s("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=e=>_.removeEmptyText=e)},null,512),[[w,_.removeEmptyText]]),a[17]||(a[17]=s("span",null,"移除空文本",-1))]),s("label",Ut,[c(s("input",{type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=e=>_.removeHiddenElems=e)},null,512),[[w,_.removeHiddenElems]]),a[18]||(a[18]=s("span",null,"移除隐藏元素",-1))]),s("label",zt,[c(s("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=e=>_.removeMetadata=e)},null,512),[[w,_.removeMetadata]]),a[19]||(a[19]=s("span",null,"移除元数据",-1))]),s("label",$t,[c(s("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=e=>_.removeUnusedNS=e)},null,512),[[w,_.removeUnusedNS]]),a[20]||(a[20]=s("span",null,"移除未使用的命名空间",-1))]),s("label",Ht,[c(s("input",{type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=e=>_.cleanupIDs=e)},null,512),[[w,_.cleanupIDs]]),a[21]||(a[21]=s("span",null,"清理 ID",-1))]),s("label",Pt,[c(s("input",{type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=e=>_.convertColors=e)},null,512),[[w,_.convertColors]]),a[22]||(a[22]=s("span",null,"优化颜色值",-1))]),s("label",Yt,[c(s("input",{type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=e=>_.removeViewBox=e)},null,512),[[w,_.removeViewBox]]),a[23]||(a[23]=s("span",null,"保留 viewBox",-1))])])],512),[[C,g.value]]),s("div",jt,[s("button",{class:"u-btn_il svg-editor__action-btn","s-color":"blue",onClick:D,disabled:!o.value}," 优化 SVG ",8,Ft),s("button",{class:"u-btn_il svg-editor__action-btn",onClick:R,disabled:!o.value}," 预览 ",8,Vt)])])])])]),s("div",Bt,[s("div",Gt,[s("div",qt,[a[24]||(a[24]=s("span",null,"优化后的 SVG",-1)),s("div",Wt,[s("span",{class:T(["svg-editor__btn-link",{"svg-editor__btn-link--disabled":!l.value}]),onClick:L}," 复制 ",2),s("span",{class:T(["svg-editor__btn-link",{"svg-editor__btn-link--disabled":!l.value}]),onClick:I}," 下载 ",2)])]),c(s("textarea",{"onUpdate:modelValue":a[10]||(a[10]=e=>l.value=e),class:"svg-editor__textarea",placeholder:"优化后的 SVG 将显示在这里",disabled:!l.value},null,8,Jt),[[u,l.value]]),E.show?(v(),i("div",Xt,[s("p",null," 原始大小: "+m(E.originalSize)+" | 优化后: "+m(E.optimizedSize)+" | 减少: "+m(E.reduction),1)])):h("",!0)])])]),f.value?(v(),i("div",Zt,[s("div",Qt,[a[25]||(a[25]=s("h4",null,"SVG 预览",-1)),s("span",{class:"svg-editor__btn-link",onClick:a[11]||(a[11]=e=>f.value=!1)},"关闭")]),s("div",{class:"svg-editor__preview-content",innerHTML:x.value},null,8,Kt)])):h("",!0),a[26]||(a[26]=s("div",{class:"svg-editor__tips"},[s("h4",null,"使用提示："),s("ul",null,[s("li",null,"直接输入 SVG 代码或上传 SVG 文件"),s("li",null,"选择需要的优化选项"),s("li",null,'点击"优化 SVG"按钮生成优化后的代码'),s("li",null,'使用"预览"按钮查看 SVG 效果'),s("li",null,"优化后可以复制代码或下载 SVG 文件")])],-1)),d.value?(v(),i("div",ea,[s("div",ta,[s("p",null,m(p.value),1),s("button",{class:"u-btn_il svg-editor__success-btn","s-color":"blue",onClick:a[12]||(a[12]=e=>d.value=!1)}," 确定 ")])])):h("",!0)]))}}),oa=F(aa,[["__scopeId","data-v-fcbba019"]]);var na,la,ra,ia={exports:{}};const sa=M(ia.exports=(na="minute",la=/[+-]\d\d(?::?\d\d)?/g,ra=/([+-]|\d\d)/g,function(e,t,a){var o=t.prototype;a.utc=function(e){return new t({date:e,utc:!0,args:arguments})},o.utc=function(e){var t=a(this.toDate(),{locale:this.$L,utc:!0});return e?t.add(this.utcOffset(),na):t},o.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var n=o.parse;o.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),n.call(this,e)};var l=o.init;o.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var r=o.utcOffset;o.utcOffset=function(e,t){var a=this.$utils().u;if(a(e))return this.$u?0:a(this.$offset)?r.call(this):this.$offset;if("string"==typeof e&&null===(e=function(e){void 0===e&&(e="");var t=e.match(la);if(!t)return null;var a=(""+t[0]).match(ra)||["-",0,0],o=a[0],n=60*+a[1]+ +a[2];return 0===n?0:"+"===o?n:-n}(e)))return this;var o=Math.abs(e)<=16?60*e:e,n=this;if(t)return n.$offset=o,n.$u=0===e,n;if(0!==e){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(n=this.local().add(o+l,na)).$offset=o,n.$x.$localOffset=l}else n=this.utc();return n};var i=o.format;o.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return i.call(this,t)},o.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var s=o.toDate;o.toDate=function(e){return"s"===e&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():s.call(this)};var c=o.diff;o.diff=function(e,t,o){if(e&&this.$u===e.$u)return c.call(this,e,t,o);var n=this.local(),l=a(e).local();return c.call(n,l,t,o)}}));var ca={exports:{}};ca.exports=function(){var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(a,o,n){var l,r=function(e,a,o){void 0===o&&(o={});var n=new Date(e);return function(e,a){void 0===a&&(a={});var o=a.timeZoneName||"short",n=e+"|"+o,l=t[n];return l||(l=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:o}),t[n]=l),l}(a,o).formatToParts(n)},i=function(t,a){for(var o=r(t,a),l=[],i=0;i<o.length;i+=1){var s=o[i],c=s.type,u=s.value,d=e[c];d>=0&&(l[d]=parseInt(u,10))}var m=l[3],v=24===m?0:m,p=l[0]+"-"+l[1]+"-"+l[2]+" "+v+":"+l[4]+":"+l[5]+":000",f=+t;return(n.utc(p).valueOf()-(f-=f%1e3))/6e4},s=o.prototype;s.tz=function(e,t){void 0===e&&(e=l);var a,o=this.utcOffset(),r=this.toDate(),i=r.toLocaleString("en-US",{timeZone:e}),s=Math.round((r-new Date(i))/1e3/60),c=15*-Math.round(r.getTimezoneOffset()/15)-s;if(Number(c)){if(a=n(i,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(c,!0),t){var u=a.utcOffset();a=a.add(o-u,"minute")}}else a=this.utcOffset(0,t);return a.$x.$timezone=e,a},s.offsetName=function(e){var t=this.$x.$timezone||n.tz.guess(),a=r(this.valueOf(),t,{timeZoneName:e}).find(function(e){return"timezonename"===e.type.toLowerCase()});return a&&a.value};var c=s.startOf;s.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return c.call(this,e,t);var a=n(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(a,e,t).tz(this.$x.$timezone,!0)},n.tz=function(e,t,a){var o=a&&t,r=a||t||l,s=i(+n(),r);if("string"!=typeof e)return n(e).tz(r);var c=function(e,t,a){var o=e-60*t*1e3,n=i(o,a);if(t===n)return[o,t];var l=i(o-=60*(n-t)*1e3,a);return n===l?[o,n]:[e-60*Math.min(n,l)*1e3,Math.max(n,l)]}(n.utc(e,o).valueOf(),s,r),u=c[0],d=c[1],m=n(u).utcOffset(d);return m.$x.$timezone=r,m},n.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},n.tz.setDefault=function(e){l=e}}}();const ua=M(ca.exports);var da={exports:{}};da.exports=function(e,t,a){e=e||{};var o=t.prototype,n={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(e,t,a,n){return o.fromToBase(e,t,a,n)}a.en.relativeTime=n,o.fromToBase=function(t,o,l,r,i){for(var s,c,u,d=l.$locale().relativeTime||n,m=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],v=m.length,p=0;p<v;p+=1){var f=m[p];f.d&&(s=r?a(t).diff(l,f.d,!0):l.diff(t,f.d,!0));var h=(e.rounding||Math.round)(Math.abs(s));if(u=s>0,h<=f.r||!f.r){h<=1&&p>0&&(f=m[p-1]);var g=d[f.l];i&&(h=i(""+h)),c="string"==typeof g?g.replace("%d",h):g(h,o,f.l,u);break}}if(o)return c;var _=u?d.future:d.past;return"function"==typeof _?_(c):_.replace("%s",c)},o.to=function(e,t){return l(e,t,this,!0)},o.from=function(e,t){return l(e,t,this)};var r=function(e){return e.$u?a.utc():a()};o.toNow=function(e){return this.to(r(this),e)},o.fromNow=function(e){return this.from(r(this),e)}};const ma=M(da.exports);!function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=t(e),o={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var a=100*e+t;return a<600?"凌晨":a<900?"早上":a<1100?"上午":a<1300?"中午":a<1800?"下午":"晚上"}};a.default.locale(o,null,!0)}(D);const va={class:"date-converter__header"},pa={class:"date-converter__header-content"},fa={class:"date-converter__title"},ha={class:"date-converter__content"},ga={class:"date-converter__panel"},_a={class:"date-converter__panel-header"},ba={class:"date-converter__input-group"},ya={class:"date-converter__radio-group"},Sa={class:"date-converter__radio"},Ta={class:"date-converter__radio"},Ca={class:"date-converter__radio"},wa={class:"date-converter__radio"},Ea={class:"date-converter__input-container"},ka={class:"date-converter__unit-selector"},xa={class:"date-converter__radio"},Aa={class:"date-converter__radio"},Oa={key:3,class:"date-converter__custom-container"},Na={key:0,class:"date-converter__error"},Ma={class:"date-converter__timezone-panel"},Da=["value"],Ra={class:"date-converter__output-panel"},La={class:"date-converter__panel-header"},Ia={class:"date-converter__panel-controls"},Ua={class:"date-converter__results"},za={class:"date-converter__result-item"},$a={class:"date-converter__result-value"},Ha={class:"date-converter__result-item"},Pa={class:"date-converter__result-value"},Ya={class:"date-converter__result-item"},ja={class:"date-converter__result-value"},Fa={class:"date-converter__result-item"},Va={class:"date-converter__result-value"},Ba={class:"date-converter__result-item"},Ga={class:"date-converter__result-value"},qa={class:"date-converter__result-item"},Wa={class:"date-converter__result-value"},Ja={class:"date-converter__calculator"},Xa={class:"date-converter__calculator-content"},Za={class:"date-converter__calculator-row"},Qa={key:0,class:"date-converter__calculator-result"},Ka={class:"date-converter__result-value"},eo={key:0,class:"date-converter__success-modal"},to={class:"date-converter__modal-content"},ao=a({name:"DateConverter",__name:"index",props:{back:{type:Function}},setup(e){const t=e=>H.t(e);R.extend(sa),R.extend(ua),R.extend(ma),R.locale("zh-cn");const a=e,o=n("timestamp"),l=n(null),d=n(""),p=n(""),f=n(""),g=n("YYYY-MM-DD HH:mm:ss"),_=n("seconds"),y=n("Asia/Shanghai"),C=n(""),w=n(null),N=n(!1),M=n(""),D=n(1),L=n("days"),I=n(""),U=[{value:"Asia/Shanghai",label:"中国标准时间 (UTC+8)"},{value:"Asia/Tokyo",label:"日本标准时间 (UTC+9)"},{value:"Europe/London",label:"英国标准时间 (UTC+0/+1)"},{value:"Europe/Paris",label:"中欧标准时间 (UTC+1/+2)"},{value:"America/New_York",label:"美国东部时间 (UTC-5/-4)"},{value:"America/Los_Angeles",label:"美国太平洋时间 (UTC-8/-7)"},{value:"UTC",label:"协调世界时 (UTC)"}],z=S(()=>null!==w.value),$=S(()=>w.value?Math.floor(w.value.valueOf()/1e3):""),P=S(()=>w.value?w.value.valueOf():""),Y=S(()=>w.value?w.value.toISOString():""),j=S(()=>w.value?w.value.tz(y.value).format("YYYY-MM-DD HH:mm:ss"):""),F=S(()=>w.value?w.value.utc().format("YYYY-MM-DD HH:mm:ss"):""),V=S(()=>w.value?w.value.fromNow():"");r(()=>{G()});const B=e=>{e.stopPropagation()},G=()=>{C.value="",w.value=R(),l.value=Math.floor(w.value.valueOf()/1e3),d.value=w.value.toISOString(),p.value=w.value.format("YYYY-MM-DDTHH:mm"),f.value=w.value.format(g.value)},q=()=>{if(C.value="",null!==l.value)try{const e="seconds"===_.value?1e3*l.value:l.value;w.value=R(e),d.value=w.value.toISOString(),p.value=w.value.format("YYYY-MM-DDTHH:mm"),f.value=w.value.format(g.value)}catch(ra){C.value=`转换失败：${ra.message}`,w.value=null}else w.value=null},W=()=>{if(C.value="",d.value)try{const e=Ke.sanitize(d.value);if(w.value=R(e),!w.value.isValid())throw new Error("无效的ISO日期格式");l.value=Math.floor(w.value.valueOf()/1e3),p.value=w.value.format("YYYY-MM-DDTHH:mm"),f.value=w.value.format(g.value)}catch(ra){C.value=`转换失败：${ra.message}`,w.value=null}else w.value=null},J=()=>{if(C.value="",p.value)try{if(w.value=R(p.value),!w.value.isValid())throw new Error("无效的日期格式");l.value=Math.floor(w.value.valueOf()/1e3),d.value=w.value.toISOString(),f.value=w.value.format(g.value)}catch(ra){C.value=`转换失败：${ra.message}`,w.value=null}else w.value=null},X=()=>{if(C.value="",f.value&&g.value)try{const e=Ke.sanitize(f.value),t=Ke.sanitize(g.value);if(w.value=R(e,t),!w.value.isValid())throw new Error("无效的日期格式");l.value=Math.floor(w.value.valueOf()/1e3),d.value=w.value.toISOString(),p.value=w.value.format("YYYY-MM-DDTHH:mm")}catch(ra){C.value=`转换失败：${ra.message}`,w.value=null}else w.value=null},Z=()=>{w.value},Q=e=>{if(w.value&&null!==D.value)try{const t=e?D.value:-D.value,a=w.value.add(t,L.value);I.value=`${a.format("YYYY-MM-DD HH:mm:ss")} (${a.fromNow()})`}catch(ra){C.value=`计算失败：${ra.message}`}else C.value="请先输入有效的日期和计算值"},K=()=>{if(!w.value)return;const e=`Unix时间戳(秒): ${$.value}\nUnix时间戳(毫秒): ${P.value}\nISO格式: ${Y.value}\n本地时间(${y.value}): ${j.value}\nUTC时间: ${F.value}\n相对时间: ${V.value}`;try{navigator.clipboard.writeText(e),ee("已复制到剪贴板！")}catch(ra){C.value=`复制失败：${ra.message}`}},ee=e=>{M.value=e,N.value=!0,setTimeout(()=>{N.value=!1},2e3)},te=()=>{a.back&&a.back()};return(e,a)=>(v(),i("section",{class:"date-converter",onClick:B},[s("div",va,[s("div",pa,[s("h4",fa,[b(m(t("dateConverter.title"))+" ",1),s("button",{class:"date-converter__back-btn",onClick:te},[a[17]||(a[17]=s("i",{class:"u-icon icon-home"},null,-1)),b(" "+m(t("common.backHome")),1)])]),s("p",null,m(t("dateConverter.description")),1)])]),s("div",ha,[s("div",ga,[s("div",_a,[s("span",null,m(t("dateConverter.inputTime")),1),s("span",{class:"date-converter__btn-link",onClick:G},m(t("dateConverter.useCurrentTime")),1)]),s("div",ba,[s("div",ya,[s("label",Sa,[c(s("input",{type:"radio","onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),value:"timestamp"},null,512),[[E,o.value]]),a[18]||(a[18]=s("span",null,"Unix时间戳",-1))]),s("label",Ta,[c(s("input",{type:"radio","onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),value:"iso"},null,512),[[E,o.value]]),a[19]||(a[19]=s("span",null,"ISO格式",-1))]),s("label",Ca,[c(s("input",{type:"radio","onUpdate:modelValue":a[2]||(a[2]=e=>o.value=e),value:"local"},null,512),[[E,o.value]]),a[20]||(a[20]=s("span",null,"本地时间",-1))]),s("label",wa,[c(s("input",{type:"radio","onUpdate:modelValue":a[3]||(a[3]=e=>o.value=e),value:"custom"},null,512),[[E,o.value]]),a[21]||(a[21]=s("span",null,"自定义格式",-1))])]),s("div",Ea,["timestamp"===o.value?(v(),i(k,{key:0},[c(s("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>l.value=e),class:"date-converter__input",placeholder:"Unix时间戳（秒）",onInput:q},null,544),[[u,l.value,void 0,{number:!0}]]),s("div",ka,[s("label",xa,[c(s("input",{type:"radio","onUpdate:modelValue":a[5]||(a[5]=e=>_.value=e),value:"seconds",onChange:q},null,544),[[E,_.value]]),a[22]||(a[22]=s("span",null,"秒",-1))]),s("label",Aa,[c(s("input",{type:"radio","onUpdate:modelValue":a[6]||(a[6]=e=>_.value=e),value:"milliseconds",onChange:q},null,544),[[E,_.value]]),a[23]||(a[23]=s("span",null,"毫秒",-1))])])],64)):"iso"===o.value?c((v(),i("input",{key:1,type:"text","onUpdate:modelValue":a[7]||(a[7]=e=>d.value=e),class:"date-converter__input",placeholder:"ISO格式 (YYYY-MM-DDTHH:mm:ss.sssZ)",onInput:W},null,544)),[[u,d.value]]):"local"===o.value?c((v(),i("input",{key:2,type:"datetime-local","onUpdate:modelValue":a[8]||(a[8]=e=>p.value=e),class:"date-converter__input",onInput:J},null,544)),[[u,p.value]]):"custom"===o.value?(v(),i("div",Oa,[c(s("input",{type:"text","onUpdate:modelValue":a[9]||(a[9]=e=>f.value=e),class:"date-converter__input",placeholder:"输入日期字符串",onInput:X},null,544),[[u,f.value]]),c(s("input",{type:"text","onUpdate:modelValue":a[10]||(a[10]=e=>g.value=e),class:"date-converter__format-input",placeholder:"格式 (例如: YYYY-MM-DD HH:mm:ss)",onInput:X},null,544),[[u,g.value]])])):h("",!0)])]),C.value?(v(),i("div",Na,m(C.value),1)):h("",!0)]),s("div",Ma,[a[24]||(a[24]=s("div",{class:"date-converter__panel-header"},[s("span",null,"时区设置")],-1)),c(s("select",{"onUpdate:modelValue":a[11]||(a[11]=e=>y.value=e),class:"date-converter__timezone-select",onChange:Z},[(v(),i(k,null,A(U,e=>s("option",{key:e.value,value:e.value},m(e.label),9,Da)),64))],544),[[x,y.value]])]),s("div",Ra,[s("div",La,[a[25]||(a[25]=s("span",null,"转换结果",-1)),s("div",Ia,[s("span",{class:T(["date-converter__btn-link",{"date-converter__btn-disabled":!z.value}]),onClick:K}," 复制 ",2)])]),s("div",Ua,[s("div",za,[a[26]||(a[26]=s("div",{class:"date-converter__result-label"},"Unix时间戳（秒）:",-1)),s("div",$a,m($.value),1)]),s("div",Ha,[a[27]||(a[27]=s("div",{class:"date-converter__result-label"},"Unix时间戳（毫秒）:",-1)),s("div",Pa,m(P.value),1)]),s("div",Ya,[a[28]||(a[28]=s("div",{class:"date-converter__result-label"},"ISO格式:",-1)),s("div",ja,m(Y.value),1)]),s("div",Fa,[a[29]||(a[29]=s("div",{class:"date-converter__result-label"},"本地时间:",-1)),s("div",Va,m(j.value),1)]),s("div",Ba,[a[30]||(a[30]=s("div",{class:"date-converter__result-label"},"UTC时间:",-1)),s("div",Ga,m(F.value),1)]),s("div",qa,[a[31]||(a[31]=s("div",{class:"date-converter__result-label"},"相对时间:",-1)),s("div",Wa,m(V.value),1)])])])]),s("div",Ja,[a[35]||(a[35]=s("div",{class:"date-converter__panel-header"},[s("span",null,"日期计算")],-1)),s("div",Xa,[s("div",Za,[a[33]||(a[33]=s("span",{class:"date-converter__calculator-label"},"添加/减去:",-1)),c(s("input",{type:"number","onUpdate:modelValue":a[12]||(a[12]=e=>D.value=e),class:"date-converter__calculator-input"},null,512),[[u,D.value,void 0,{number:!0}]]),c(s("select",{"onUpdate:modelValue":a[13]||(a[13]=e=>L.value=e),class:"date-converter__calculator-unit"},[...a[32]||(a[32]=[O('<option value="seconds" data-v-33b12813>秒</option><option value="minutes" data-v-33b12813>分钟</option><option value="hours" data-v-33b12813>小时</option><option value="days" data-v-33b12813>天</option><option value="weeks" data-v-33b12813>周</option><option value="months" data-v-33b12813>月</option><option value="years" data-v-33b12813>年</option>',7)])],512),[[x,L.value]]),s("button",{class:"u-btn_il","s-color":"blue",onClick:a[14]||(a[14]=e=>Q(!0))},"添加"),s("button",{class:"u-btn_il",onClick:a[15]||(a[15]=e=>Q(!1))},"减去")]),I.value?(v(),i("div",Qa,[a[34]||(a[34]=s("div",{class:"date-converter__result-label"},"计算结果:",-1)),s("div",Ka,m(I.value),1)])):h("",!0)])]),a[37]||(a[37]=s("div",{class:"date-converter__tips"},[s("h4",null,"使用提示："),s("ul",null,[s("li",null,"Unix时间戳是从1970年1月1日UTC开始计算的秒数"),s("li",null,"ISO格式遵循国际标准，包含时区信息"),s("li",null,"时区转换会影响显示的本地时间"),s("li",null,"日期计算可用于计算未来或过去的日期")])],-1)),N.value?(v(),i("div",eo,[s("div",to,[a[36]||(a[36]=s("h4",null,"操作成功",-1)),s("p",null,m(M.value),1),s("button",{class:"u-btn_il","s-color":"blue",onClick:a[16]||(a[16]=e=>N.value=!1)},"确定")])])):h("",!0)]))}}),oo=F(ao,[["__scopeId","data-v-33b12813"]]);export{Y as A,oo as D,pt as J,oa as S,F as _,P as a,U as b,z as c,J as d,j as e,B as f,L as g,V as j,H as l,Ke as p};
